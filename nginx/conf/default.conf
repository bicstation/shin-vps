server {
    # Nginxコンテナの内部ポート80でリッスン
    listen 80;
    server_name localhost;

    # Traefik経由で来た /static/ のリクエストを処理する
    location /static/ {
        # 'alias' を使用し、リクエストパス /static/ を、
        # static_volume がマウントされているコンテナ内のパスにマッピングする
        alias /usr/share/nginx/html/static/; 
        
        # ファイルが存在しない場合は404エラーを返す
        try_files $uri $uri/ =404; 

        # キャッシュヘッダーの設定
        expires 30d;
        access_log off;
    }
}